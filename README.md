# 飞机大战

## 功能

- 注册、登录
  - 两种方案：MySQL数据库、本地文件
  - 可在未登录的状态下开始，但不会保存成绩
- 高分榜
- 暂停功能

## 操作方式

- 键盘（备选方案1）：WASD移动，J键轻击，K键重击，ESC暂停
- 鼠标（备选方案2）：鼠标移动，左键轻击，右键重击，ESC暂停

## 系统

### 关卡

- 共五个关卡，击败本关boss即可过关。
  - 第一关只有小敌机、BOSS敌机，出怪频率低，BOSS只有追踪子弹
  - 第二关开始出现精英敌机
  - 第三关BOSS发射扩散子弹
  - 第四关BOSS发射激光
  - 第五关为无限关卡，击败BOSS后会继续刷怪

### 角色：英雄机、小敌机、精英敌机、boss敌机

- 英雄机属性：生命、耐力、气势
  - 生命：100，归零游戏结束
  - 耐力：100，攻击或蓄力消耗耐力，空闲时自动回复
  - 气势：100+110+120+150+400，攻击或蓄力以积攒气势，强化伤害，达到一定值时可重击
- 小敌机：生命50；发射直线子弹，伤害为1；撞击伤害为10
- 精英敌机：生命200；发射半追踪导弹（只在发射时瞄准英雄），伤害为3；撞击伤害为30；
- BOSS：生命5000；前期发射大量追踪子弹，伤害为3；中期发射全屏扩散子弹（16颗，发射后以圆的形式扩散），伤害为3；后期发射激光，伤害为10；不撞击

### 机制

- 攻击：

  - 轻击：每秒发射5颗子弹，伤害为10/11/12/15/20（由气势等级决定）；每秒消耗5点耐力，击中获得10点气势
  - 重击：按住右键开始蓄力，松开释放。消耗全部气势，发射一颗大子弹，伤害为100/110/120/150/200（由气势等级决定），有约一秒的前摇，三级气势及以上可穿透
- 耐力：

  - 耐力消耗：轻击时，每秒消耗5点耐力；蓄力时，每秒消耗5点耐力，发射时再消耗10点耐力
    - 耐力归零时，若正在轻击，停止轻击；若正在蓄力，强制中断蓄力进行重击
  - 耐力恢复：不攻击时，每秒恢复15点耐力
- 气势：

  - 轻击以获得气势，达到不同等级可获得不同强化效果

  | 气势等级 | 所需气势值 | 从0到本级所需气势值 | 轻击伤害 | 重击伤害 | 额外效果                                                                        |
  | -------- | ---------- | ------------------- | -------- | -------- | ------------------------------------------------------------------------------- |
  | 0        | 0          | 0                   | 10       | 100      |                                                                                 |
  | 1        | 100        | 100                 | 11       | 110      |                                                                                 |
  | 2        | 110        | 210                 | 12       | 120      |                                                                                 |
  | 3        | 120        | 330                 | 15       | 150      | 蓄力最多到本级，本级及以上的重击可穿透，升到本级以上时气势会以每秒5点的速度下降 |
  | 4        | 150        | 480                 | 20       | 200      |                                                                                 |
  | 5        | 400        | 880                 | 20       | 400      | 打出重击，进入无双模式                                                          |


  - 无双模式：打出5级重击，进入15秒的无双模式。此时轻击速度翻倍，伤害为20，不消耗耐力，不可重击
- 得分：击败任何敌机，获得与其生命值相同的分数
- 出怪频率：5000毫秒/关卡数
- 精英怪：（关卡数-1）*5%

### 收集物

| 收集物   | 效果           | 击败小敌机获得概率 | 击败精英敌机获得概率 | 击败BOSS获得概率 |
| -------- | -------------- | ------------------ | -------------------- | ---------------- |
| 小生命球 | 恢复30生命     | 5%                 | 20%                  | 0                |
| 大生命球 | 补满生命和耐力 | 0.5%               | 2%                   | 100%             |
| 补给球   | 提供100气势    | 3%                 | 15%                  | 50%              |
| 大补给球 | 提供480气势    | 0.3%               | 1.5%                 | 5%               |

## 界面

### 准备界面

正上方为游戏标题

下方为注册、登录、开始按钮（未登录）/“欢迎你，xxxx!"字样和开始按钮（已登录）

* 注册页面：分为用户名、密码、确认密码选项，若密码和确认密码相同则注册成功，否则注册失败
* 登录页面：分为用户名、密码选项，验证其是否与注册列表中已存在项一致

若在未登录的状态下开始游戏，弹窗提醒不会记录成绩，并确认是否继续

### 游戏界面

左上角为当前分数、关卡

若有BOSS，正上方为BOSS血条

中间为画面主体，背景缓缓向下移动，过关时淡出切换背景

下方为从上至下为血条（红色，宽）、气势条（随气势等级不同而不同，宽）、耐力条（灰白色，极窄）

- 气势条颜色：白、绿、蓝、紫、金、红

### 结束页面

生命耗尽时，游戏结束，先显示“游戏结束”字样约三秒，然后显示高分榜、返回主界面、退出按钮

## 音乐

每关有不同的音乐，BOSS战循环播放一段音乐，击败后待当前音乐结束后切换音乐，结束时立即切换至结算音乐
